diff -r -U 3 minecraft_server\net\minecraft\server\MinecraftServer.java minecraft_server_patched\net\minecraft\server\MinecraftServer.java
--- minecraft_server\net\minecraft\server\MinecraftServer.java	Wed Aug 01 22:44:03 2012
+++ minecraft_server_patched\net\minecraft\server\MinecraftServer.java	Thu Aug 02 00:25:40 2012
@@ -72,7 +72,7 @@
     private final PlayerUsageSnooper field_71307_n = new PlayerUsageSnooper("server", this);
     private final File field_71308_o;
     private final List field_71322_p = new ArrayList();
-    private final ICommandManager field_71321_q = new ServerCommandManager();
+    private final ICommandManager field_71321_q;
     public final Profiler field_71304_b = new Profiler();
     private String field_71320_r;
     private int field_71319_s;
@@ -122,6 +122,7 @@
         field_71296_Q = false;
         field_71309_l = this;
         field_71308_o = p_i3375_1_;
+        field_71321_q = new ServerCommandManager();
         field_71310_m = new AnvilSaveConverter(p_i3375_1_);
     }
 
@@ -406,6 +407,9 @@
                 field_71306_a.severe("We were unable to save this crash report to disk.");
             }
             func_71228_a(crashreport);
+        }
+        finally
+        {
             try
             {
                 func_71260_j();
@@ -419,6 +423,8 @@
             {
                 func_71240_o();
             }
+        }
+/*
             break MISSING_BLOCK_LABEL_502;
         }
         try
@@ -451,6 +457,7 @@
             func_71240_o();
         }
         throw exception2;
+*/
     }
 
     protected File func_71238_n()
@@ -466,7 +473,7 @@
     {
     }
 
-    protected void func_71217_p()
+    public void func_71217_p()
     {
         long l = System.nanoTime();
         AxisAlignedBB.func_72332_a().func_72298_a();
diff -r -U 3 minecraft_server\net\minecraft\src\AnvilChunkLoader.java minecraft_server_patched\net\minecraft\src\AnvilChunkLoader.java
--- minecraft_server\net\minecraft\src\AnvilChunkLoader.java	Wed Aug 01 22:44:04 2012
+++ minecraft_server_patched\net\minecraft\src\AnvilChunkLoader.java	Thu Aug 02 00:26:19 2012
@@ -56,9 +56,6 @@
                 nbttagcompound = anvilchunkloaderpending.field_76547_b;
             }
         }
-        break MISSING_BLOCK_LABEL_109;
-        exception;
-        throw exception;
         if(nbttagcompound == null)
         {
             java.io.DataInputStream datainputstream = RegionFileCache.func_76549_c(field_75825_d, p_75815_2_, p_75815_3_);
diff -r -U 3 minecraft_server\net\minecraft\src\Block.java minecraft_server_patched\net\minecraft\src\Block.java
--- minecraft_server\net\minecraft\src\Block.java	Wed Aug 01 22:44:04 2012
+++ minecraft_server_patched\net\minecraft\src\Block.java	Thu Aug 02 00:30:54 2012
@@ -56,11 +56,11 @@
     public static final StepSound field_71975_k;
     public static final StepSound field_71972_l;
     public static final Block field_71973_m[];
-    public static final boolean field_71970_n[] = new boolean[4096];
+    public static final boolean field_71970_n[];
     public static final int field_71971_o[];
     public static final boolean field_71985_p[];
-    public static final int field_71984_q[] = new int[4096];
-    public static final boolean field_71983_r[] = new boolean[4096];
+    public static final int field_71984_q[];
+    public static final boolean field_71983_r[];
     public static boolean field_71982_s[];
     public static final Block field_71981_t;
     public static final BlockGrass field_71980_u;
@@ -86,18 +86,18 @@
     public static final Block field_71948_O;
     public static final Block field_71958_P;
     public static final Block field_71957_Q;
-    public static final Block field_71960_R = (new BlockNote(25)).func_71848_c(0.8F).func_71864_b("musicBlock").func_71912_p();
-    public static final Block field_71959_S = (new BlockBed(26)).func_71848_c(0.2F).func_71864_b("bed").func_71896_v().func_71912_p();
+    public static final Block field_71960_R;
+    public static final Block field_71959_S;
     public static final Block field_71954_T;
     public static final Block field_71953_U;
     public static final Block field_71956_V;
-    public static final Block field_71955_W = (new BlockWeb(30, 11)).func_71868_h(1).func_71848_c(4F).func_71864_b("web");
+    public static final Block field_71955_W;
     public static final BlockTallGrass field_71962_X;
     public static final BlockDeadBush field_71961_Y;
     public static final Block field_71963_Z;
-    public static final BlockPistonExtension field_72099_aa = (BlockPistonExtension)(new BlockPistonExtension(34, 107)).func_71912_p();
+    public static final BlockPistonExtension field_72099_aa;
     public static final Block field_72101_ab;
-    public static final BlockPistonMoving field_72095_ac = new BlockPistonMoving(36);
+    public static final BlockPistonMoving field_72095_ac;
     public static final BlockFlower field_72097_ad;
     public static final BlockFlower field_72107_ae;
     public static final BlockFlower field_72109_af;
@@ -176,10 +176,10 @@
     public static final Block field_72033_bA;
     public static final Block field_72098_bB;
     public static final Block field_72100_bC;
-    public static final Block field_72094_bD = (new BlockNetherStalk(115)).func_71864_b("netherStalk").func_71912_p();
-    public static final Block field_72096_bE = (new BlockEnchantmentTable(116)).func_71848_c(5F).func_71894_b(2000F).func_71864_b("enchantmentTable");
-    public static final Block field_72106_bF = (new BlockBrewingStand(117)).func_71848_c(0.5F).func_71900_a(0.125F).func_71864_b("brewingStand").func_71912_p();
-    public static final Block field_72108_bG = (new BlockCauldron(118)).func_71848_c(2.0F).func_71864_b("cauldron").func_71912_p();
+    public static final Block field_72094_bD;
+    public static final Block field_72096_bE;
+    public static final Block field_72106_bF;
+    public static final Block field_72108_bG;
     public static final Block field_72102_bH;
     public static final Block field_72104_bI;
     public static final Block field_72082_bJ;
@@ -192,8 +192,8 @@
     public static final Block field_72088_bQ;
     public static final Block field_72068_bR;
     public static final Block field_72066_bS;
-    public static final BlockTripWireSource field_72064_bT = (BlockTripWireSource)(new BlockTripWireSource(131)).func_71864_b("tripWireSource").func_71912_p();
-    public static final Block field_72062_bU = (new BlockTripWire(132)).func_71864_b("tripWire").func_71912_p();
+    public static final BlockTripWireSource field_72064_bT;
+    public static final Block field_72062_bU;
     public static final Block field_72076_bV;
     public static final Block field_72074_bW;
     public static final Block field_72072_bX;
@@ -827,8 +827,11 @@
         field_71975_k = new StepSound("cloth", 1.0F, 1.0F);
         field_71972_l = new StepSoundSand("sand", 1.0F, 1.0F);
         field_71973_m = new Block[4096];
+        field_71970_n = new boolean[4096];
         field_71971_o = new int[4096];
         field_71985_p = new boolean[4096];
+        field_71984_q = new int[4096];
+        field_71983_r = new boolean[4096];
         field_71982_s = new boolean[4096];
         field_71981_t = (new BlockStone(1, 1)).func_71848_c(1.5F).func_71894_b(10F).func_71884_a(field_71976_h).func_71864_b("stone");
         field_71980_u = (BlockGrass)(new BlockGrass(2)).func_71848_c(0.6F).func_71884_a(field_71965_g).func_71864_b("grass");
@@ -854,13 +857,18 @@
         field_71948_O = (new Block(22, 144, Material.field_76246_e)).func_71848_c(3F).func_71894_b(5F).func_71884_a(field_71976_h).func_71864_b("blockLapis").func_71849_a(CreativeTabs.field_78030_b);
         field_71958_P = (new BlockDispenser(23)).func_71848_c(3.5F).func_71884_a(field_71976_h).func_71864_b("dispenser").func_71912_p();
         field_71957_Q = (new BlockSandStone(24)).func_71884_a(field_71976_h).func_71848_c(0.8F).func_71864_b("sandStone").func_71912_p();
+        field_71960_R = (new BlockNote(25)).func_71848_c(0.8F).func_71864_b("musicBlock").func_71912_p();
+        field_71959_S = (new BlockBed(26)).func_71848_c(0.2F).func_71864_b("bed").func_71896_v().func_71912_p();
         field_71954_T = (new BlockRail(27, 179, true)).func_71848_c(0.7F).func_71884_a(field_71977_i).func_71864_b("goldenRail").func_71912_p();
         field_71953_U = (new BlockDetectorRail(28, 195)).func_71848_c(0.7F).func_71884_a(field_71977_i).func_71864_b("detectorRail").func_71912_p();
         field_71956_V = (new BlockPistonBase(29, 106, true)).func_71864_b("pistonStickyBase").func_71912_p();
+        field_71955_W = (new BlockWeb(30, 11)).func_71868_h(1).func_71848_c(4F).func_71864_b("web");
         field_71962_X = (BlockTallGrass)(new BlockTallGrass(31, 39)).func_71848_c(0.0F).func_71884_a(field_71965_g).func_71864_b("tallgrass");
         field_71961_Y = (BlockDeadBush)(new BlockDeadBush(32, 55)).func_71848_c(0.0F).func_71884_a(field_71965_g).func_71864_b("deadbush");
         field_71963_Z = (new BlockPistonBase(33, 107, false)).func_71864_b("pistonBase").func_71912_p();
+        field_72099_aa = (BlockPistonExtension)(new BlockPistonExtension(34, 107)).func_71912_p();
         field_72101_ab = (new BlockCloth()).func_71848_c(0.8F).func_71884_a(field_71975_k).func_71864_b("cloth").func_71912_p();
+        field_72095_ac = new BlockPistonMoving(36);
         field_72097_ad = (BlockFlower)(new BlockFlower(37, 13)).func_71848_c(0.0F).func_71884_a(field_71965_g).func_71864_b("flower");
         field_72107_ae = (BlockFlower)(new BlockFlower(38, 12)).func_71848_c(0.0F).func_71884_a(field_71965_g).func_71864_b("rose");
         field_72109_af = (BlockFlower)(new BlockMushroom(39, 29)).func_71848_c(0.0F).func_71884_a(field_71965_g).func_71900_a(0.125F).func_71864_b("mushroom");
@@ -939,6 +947,10 @@
         field_72033_bA = (new Block(112, 224, Material.field_76246_e)).func_71848_c(2.0F).func_71894_b(10F).func_71884_a(field_71976_h).func_71864_b("netherBrick").func_71849_a(CreativeTabs.field_78030_b);
         field_72098_bB = (new BlockFence(113, 224, Material.field_76246_e)).func_71848_c(2.0F).func_71894_b(10F).func_71884_a(field_71976_h).func_71864_b("netherFence");
         field_72100_bC = (new BlockStairs(114, field_72033_bA, 0)).func_71864_b("stairsNetherBrick").func_71912_p();
+        field_72094_bD = (new BlockNetherStalk(115)).func_71864_b("netherStalk").func_71912_p();
+        field_72096_bE = (new BlockEnchantmentTable(116)).func_71848_c(5F).func_71894_b(2000F).func_71864_b("enchantmentTable");
+        field_72106_bF = (new BlockBrewingStand(117)).func_71848_c(0.5F).func_71900_a(0.125F).func_71864_b("brewingStand").func_71912_p();
+        field_72108_bG = (new BlockCauldron(118)).func_71848_c(2.0F).func_71864_b("cauldron").func_71912_p();
         field_72102_bH = (new BlockEndPortal(119, Material.field_76237_B)).func_71848_c(-1F).func_71894_b(6000000F);
         field_72104_bI = (new BlockEndPortalFrame(120)).func_71884_a(field_71974_j).func_71900_a(0.125F).func_71848_c(-1F).func_71864_b("endPortalFrame").func_71912_p().func_71894_b(6000000F).func_71849_a(CreativeTabs.field_78031_c);
         field_72082_bJ = (new Block(121, 175, Material.field_76246_e)).func_71848_c(3F).func_71894_b(15F).func_71884_a(field_71976_h).func_71864_b("whiteStone").func_71849_a(CreativeTabs.field_78030_b);
@@ -951,6 +963,8 @@
         field_72088_bQ = (new BlockStairs(128, field_71957_Q, 0)).func_71864_b("stairsSandStone").func_71912_p();
         field_72068_bR = (new BlockOre(129, 171)).func_71848_c(3F).func_71894_b(5F).func_71884_a(field_71976_h).func_71864_b("oreEmerald");
         field_72066_bS = (new BlockEnderChest(130)).func_71848_c(22.5F).func_71894_b(1000F).func_71884_a(field_71976_h).func_71864_b("enderChest").func_71912_p().func_71900_a(0.5F);
+        field_72064_bT = (BlockTripWireSource)(new BlockTripWireSource(131)).func_71864_b("tripWireSource").func_71912_p();
+        field_72062_bU = (new BlockTripWire(132)).func_71864_b("tripWire").func_71912_p();
         field_72076_bV = (new BlockOreStorage(133, 25)).func_71848_c(5F).func_71894_b(10F).func_71884_a(field_71977_i).func_71864_b("blockEmerald");
         field_72074_bW = (new BlockStairs(134, field_71988_x, 1)).func_71864_b("stairsWoodSpruce").func_71912_p();
         field_72072_bX = (new BlockStairs(135, field_71988_x, 2)).func_71864_b("stairsWoodBirch").func_71912_p();
diff -r -U 3 minecraft_server\net\minecraft\src\ComponentNetherBridgePiece.java minecraft_server_patched\net\minecraft\src\ComponentNetherBridgePiece.java
--- minecraft_server\net\minecraft\src\ComponentNetherBridgePiece.java	Wed Aug 01 22:44:04 2012
+++ minecraft_server_patched\net\minecraft\src\ComponentNetherBridgePiece.java	Thu Aug 02 00:26:48 2012
@@ -37,46 +37,43 @@
 
     private ComponentNetherBridgePiece func_74959_a(ComponentNetherBridgeStartPiece p_74959_1_, List p_74959_2_, List p_74959_3_, Random p_74959_4_, int p_74959_5_, int p_74959_6_, int p_74959_7_, int p_74959_8_, int p_74959_9_)
     {
-        int i;
-        boolean flag;
-        int j;
-        i = func_74960_a(p_74959_2_);
-        flag = i > 0 && p_74959_9_ <= 30;
-        j = 0;
-_L2:
-        int k;
-        Iterator iterator;
-        if(j >= 5 || !flag)
+        int var10 = this.func_74960_a(p_74959_2_);
+        boolean var11 = var10 > 0 && p_74959_9_ <= 30;
+        int var12 = 0;
+
+        while(var12 < 5 && var11)
         {
-            break MISSING_BLOCK_LABEL_195;
+            ++var12;
+            int var13 = p_74959_4_.nextInt(var10);
+            Iterator var14 = p_74959_2_.iterator();
+
+            while(var14.hasNext())
+            {
+                StructureNetherBridgePieceWeight var15 = (StructureNetherBridgePieceWeight)var14.next();
+                var13 -= var15.field_78826_b;
+                if(var13 < 0)
+                {
+                    if(!var15.func_78822_a(p_74959_9_) || var15 == p_74959_1_.field_74970_a && !var15.field_78825_e)
+                    {
+                        break;
+                    }
+
+                    ComponentNetherBridgePiece var16 = StructureNetherBridgePieces.func_78740_a(var15, p_74959_3_, p_74959_4_, p_74959_5_, p_74959_6_, p_74959_7_, p_74959_8_, p_74959_9_);
+                    if(var16 != null)
+                    {
+                        ++var15.field_78827_c;
+                        p_74959_1_.field_74970_a = var15;
+                        if(!var15.func_78823_a())
+                        {
+                            p_74959_2_.remove(var15);
+                        }
+
+                        return var16;
+                    }
+                }
+            }
         }
-        j++;
-        k = p_74959_4_.nextInt(i);
-        iterator = p_74959_2_.iterator();
-_L4:
-        if(!(!iterator.hasNext()))
-## JADFIX _L1 _L2
-_L1:
-        StructureNetherBridgePieceWeight structurenetherbridgepieceweight;
-        structurenetherbridgepieceweight = (StructureNetherBridgePieceWeight)iterator.next();
-        k -= structurenetherbridgepieceweight.field_78826_b;
-        if(!(k >= 0))
-## JADFIX _L3 _L4
-_L3:
-        if(structurenetherbridgepieceweight.func_78822_a(p_74959_9_) && (structurenetherbridgepieceweight != p_74959_1_.field_74970_a || structurenetherbridgepieceweight.field_78825_e))
-## JADFIX _L5 _L2
-_L5:
-        ComponentNetherBridgePiece componentnetherbridgepiece = StructureNetherBridgePieces.func_78740_a(structurenetherbridgepieceweight, p_74959_3_, p_74959_4_, p_74959_5_, p_74959_6_, p_74959_7_, p_74959_8_, p_74959_9_);
-        if(!(componentnetherbridgepiece == null))
-## JADFIX _L6 _L4
-_L6:
-        structurenetherbridgepieceweight.field_78827_c++;
-        p_74959_1_.field_74970_a = structurenetherbridgepieceweight;
-        if(!structurenetherbridgepieceweight.func_78823_a())
-        {
-            p_74959_2_.remove(structurenetherbridgepieceweight);
-        }
-        return componentnetherbridgepiece;
+
         return ComponentNetherBridgeEnd.func_74971_a(p_74959_3_, p_74959_4_, p_74959_5_, p_74959_6_, p_74959_7_, p_74959_8_, p_74959_9_);
     }
 
diff -r -U 3 minecraft_server\net\minecraft\src\ComponentStrongholdRightTurn.java minecraft_server_patched\net\minecraft\src\ComponentStrongholdRightTurn.java
--- minecraft_server\net\minecraft\src\ComponentStrongholdRightTurn.java	Wed Aug 01 22:44:04 2012
+++ minecraft_server_patched\net\minecraft\src\ComponentStrongholdRightTurn.java	Thu Aug 02 00:26:53 2012
@@ -14,6 +14,11 @@
 public class ComponentStrongholdRightTurn extends ComponentStrongholdLeftTurn
 {
 
+    public ComponentStrongholdRightTurn(int p_i3843_1_, Random p_i3843_2_, StructureBoundingBox p_i3843_3_, int p_i3843_4_)
+    {
+        super(p_i3843_1_, p_i3843_2_, p_i3843_3_, p_i3843_4_);
+    }
+
     public void func_74861_a(StructureComponent p_74861_1_, List p_74861_2_, Random p_74861_3_)
     {
         if(field_74885_f == 2 || field_74885_f == 3)
diff -r -U 3 minecraft_server\net\minecraft\src\DedicatedServer.java minecraft_server_patched\net\minecraft\src\DedicatedServer.java
--- minecraft_server\net\minecraft\src\DedicatedServer.java	Wed Aug 01 22:44:05 2012
+++ minecraft_server_patched\net\minecraft\src\DedicatedServer.java	Thu Aug 02 00:27:12 2012
@@ -191,7 +191,7 @@
         }
     }
 
-    protected CrashReport func_71230_b(CrashReport p_71230_1_)
+    public CrashReport func_71230_b(CrashReport p_71230_1_)
     {
         p_71230_1_.func_71500_a("Type", new CallableType(this));
         return super.func_71230_b(p_71230_1_);
@@ -202,7 +202,7 @@
         System.exit(0);
     }
 
-    protected void func_71190_q()
+    public void func_71190_q()
     {
         super.func_71190_q();
         func_71333_ah();
diff -r -U 3 minecraft_server\net\minecraft\src\GenLayer.java minecraft_server_patched\net\minecraft\src\GenLayer.java
--- minecraft_server\net\minecraft\src\GenLayer.java	Wed Aug 01 22:44:06 2012
+++ minecraft_server_patched\net\minecraft\src\GenLayer.java	Thu Aug 02 00:27:41 2012
@@ -71,7 +71,7 @@
         ((GenLayer) (obj2)).func_75905_a(p_75901_0_);
         genlayervoronoizoom.func_75905_a(p_75901_0_);
         return (new GenLayer[] {
-            obj2, genlayervoronoizoom, genlayerrivermix
+            (GenLayer)obj2, genlayervoronoizoom, genlayerrivermix
         });
     }
 
diff -r -U 3 minecraft_server\net\minecraft\src\GuiStatsComponent.java minecraft_server_patched\net\minecraft\src\GuiStatsComponent.java
--- minecraft_server\net\minecraft\src\GuiStatsComponent.java	Wed Aug 01 22:44:06 2012
+++ minecraft_server_patched\net\minecraft\src\GuiStatsComponent.java	Thu Aug 02 00:39:10 2012
@@ -38,35 +38,27 @@
 
     private void func_79014_a()
     {
-        int i;
-        long l = Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory();
+        long var1 = Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory();
         System.gc();
-        field_79016_d[0] = (new StringBuilder()).append("Memory use: ").append(l / 1024L / 1024L).append(" mb (").append((Runtime.getRuntime().freeMemory() * 100L) / Runtime.getRuntime().maxMemory()).append("% free)").toString();
-        field_79016_d[1] = (new StringBuilder()).append("Threads: ").append(TcpConnection.field_74471_a.get()).append(" + ").append(TcpConnection.field_74469_b.get()).toString();
-        field_79016_d[2] = (new StringBuilder()).append("Avg tick: ").append(field_79020_a.format(func_79015_a(field_79017_e.field_71311_j) * 9.9999999999999995E-007D)).append(" ms").toString();
-        field_79016_d[3] = (new StringBuilder()).append("Avg sent: ").append((int)func_79015_a(field_79017_e.field_71300_f)).append(", Avg size: ").append((int)func_79015_a(field_79017_e.field_71301_g)).toString();
-        field_79016_d[4] = (new StringBuilder()).append("Avg rec: ").append((int)func_79015_a(field_79017_e.field_71313_h)).append(", Avg size: ").append((int)func_79015_a(field_79017_e.field_71314_i)).toString();
-        if(field_79017_e.field_71305_c == null)
+        this.field_79016_d[0] = "Memory use: " + var1 / 1024L / 1024L + " mb (" + Runtime.getRuntime().freeMemory() * 100L / Runtime.getRuntime().maxMemory() + "% free)";
+        this.field_79016_d[1] = "Threads: " + TcpConnection.field_74471_a.get() + " + " + TcpConnection.field_74469_b.get();
+        this.field_79016_d[2] = "Avg tick: " + field_79020_a.format(this.func_79015_a(this.field_79017_e.field_71311_j) * 1.0E-6D) + " ms";
+        this.field_79016_d[3] = "Avg sent: " + (int)this.func_79015_a(this.field_79017_e.field_71300_f) + ", Avg size: " + (int)this.func_79015_a(this.field_79017_e.field_71301_g);
+        this.field_79016_d[4] = "Avg rec: " + (int)this.func_79015_a(this.field_79017_e.field_71313_h) + ", Avg size: " + (int)this.func_79015_a(this.field_79017_e.field_71314_i);
+        if(this.field_79017_e.field_71305_c != null)
         {
-            break MISSING_BLOCK_LABEL_452;
+            for(int var3 = 0; var3 < this.field_79017_e.field_71305_c.length; ++var3)
+            {
+                this.field_79016_d[5 + var3] = "Lvl " + var3 + " tick: " + field_79020_a.format(this.func_79015_a(this.field_79017_e.field_71312_k[var3]) * 1.0E-6D) + " ms";
+                if(this.field_79017_e.field_71305_c[var3] != null && this.field_79017_e.field_71305_c[var3].field_73059_b != null)
+                {
+                    this.field_79016_d[5 + var3] = this.field_79016_d[5 + var3] + ", " + this.field_79017_e.field_71305_c[var3].field_73059_b.func_73148_d();
+                }
+            }
         }
-        i = 0;
-_L3:
-        if(!(i >= field_79017_e.field_71305_c.length))
-## JADFIX _L1 _L2
-_L1:
-        field_79016_d[5 + i] = (new StringBuilder()).append("Lvl ").append(i).append(" tick: ").append(field_79020_a.format(func_79015_a(field_79017_e.field_71312_k[i]) * 9.9999999999999995E-007D)).append(" ms").toString();
-        if(field_79017_e.field_71305_c[i] == null || field_79017_e.field_71305_c[i].field_73059_b == null)
-        {
-            continue; /* Loop/switch isn't completed */
-        }
-        field_79016_d[5 + i] += ", " + field_79017_e.field_71305_c[i].field_73059_b.func_73148_d();
-        i++;
-          goto _L3
-_L2:
-        field_79018_b[field_79019_c++ & 0xff] = (int)((func_79015_a(field_79017_e.field_71301_g) * 100D) / 12500D);
-        repaint();
-        return;
+
+        this.field_79018_b[this.field_79019_c++ & 255] = (int)(this.func_79015_a(this.field_79017_e.field_71301_g) * 100.0D / 12500.0D);
+        this.repaint();
     }
 
     private double func_79015_a(long p_79015_1_[])
diff -r -U 3 minecraft_server\net\minecraft\src\MapGenCaves.java minecraft_server_patched\net\minecraft\src\MapGenCaves.java
--- minecraft_server\net\minecraft\src\MapGenCaves.java	Wed Aug 01 22:44:06 2012
+++ minecraft_server_patched\net\minecraft\src\MapGenCaves.java	Thu Aug 02 00:32:13 2012
@@ -74,11 +74,11 @@
             {
                 continue;
             }
-            double d4 = p_75042_6_ - d;
-            double d5 = p_75042_10_ - d1;
-            double d6 = p_75042_16_ - p_75042_15_;
+            double d4a = p_75042_6_ - d;
+            double d5a = p_75042_10_ - d1;
+            double d6a = p_75042_16_ - p_75042_15_;
             double d7 = p_75042_12_ + 2.0F + 16F;
-            if((d4 * d4 + d5 * d5) - d6 * d6 > d7 * d7)
+            if((d4a * d4a + d5a * d5a) - d6a * d6a > d7 * d7)
             {
                 return;
             }
@@ -86,11 +86,11 @@
             {
                 continue;
             }
-            d4 = MathHelper.func_76128_c(p_75042_6_ - d2) - p_75042_3_ * 16 - 1;
+            int d4 = MathHelper.func_76128_c(p_75042_6_ - d2) - p_75042_3_ * 16 - 1;
             int k = (MathHelper.func_76128_c(p_75042_6_ + d2) - p_75042_3_ * 16) + 1;
-            d5 = MathHelper.func_76128_c(p_75042_8_ - d3) - 1;
+            int d5 = MathHelper.func_76128_c(p_75042_8_ - d3) - 1;
             int l = MathHelper.func_76128_c(p_75042_8_ + d3) + 1;
-            d6 = MathHelper.func_76128_c(p_75042_10_ - d2) - p_75042_4_ * 16 - 1;
+            int d6 = MathHelper.func_76128_c(p_75042_10_ - d2) - p_75042_4_ * 16 - 1;
             int i1 = (MathHelper.func_76128_c(p_75042_10_ + d2) - p_75042_4_ * 16) + 1;
             if(d4 < 0)
             {
diff -r -U 3 minecraft_server\net\minecraft\src\MapGenCavesHell.java minecraft_server_patched\net\minecraft\src\MapGenCavesHell.java
--- minecraft_server\net\minecraft\src\MapGenCavesHell.java	Wed Aug 01 22:44:06 2012
+++ minecraft_server_patched\net\minecraft\src\MapGenCavesHell.java	Thu Aug 02 00:32:22 2012
@@ -74,11 +74,11 @@
             {
                 continue;
             }
-            double d4 = p_75043_4_ - d;
-            double d5 = p_75043_8_ - d1;
-            double d6 = p_75043_14_ - p_75043_13_;
+            double d4a = p_75043_4_ - d;
+            double d5a = p_75043_8_ - d1;
+            double d6a = p_75043_14_ - p_75043_13_;
             double d7 = p_75043_10_ + 2.0F + 16F;
-            if((d4 * d4 + d5 * d5) - d6 * d6 > d7 * d7)
+            if((d4a * d4a + d5a * d5a) - d6a * d6a > d7 * d7)
             {
                 return;
             }
@@ -86,11 +86,11 @@
             {
                 continue;
             }
-            d4 = MathHelper.func_76128_c(p_75043_4_ - d2) - p_75043_1_ * 16 - 1;
+            int d4 = MathHelper.func_76128_c(p_75043_4_ - d2) - p_75043_1_ * 16 - 1;
             int k = (MathHelper.func_76128_c(p_75043_4_ + d2) - p_75043_1_ * 16) + 1;
-            d5 = MathHelper.func_76128_c(p_75043_6_ - d3) - 1;
+            int d5 = MathHelper.func_76128_c(p_75043_6_ - d3) - 1;
             int l = MathHelper.func_76128_c(p_75043_6_ + d3) + 1;
-            d6 = MathHelper.func_76128_c(p_75043_8_ - d2) - p_75043_2_ * 16 - 1;
+            int d6 = MathHelper.func_76128_c(p_75043_8_ - d2) - p_75043_2_ * 16 - 1;
             int i1 = (MathHelper.func_76128_c(p_75043_8_ + d2) - p_75043_2_ * 16) + 1;
             if(d4 < 0)
             {
diff -r -U 3 minecraft_server\net\minecraft\src\MapGenRavine.java minecraft_server_patched\net\minecraft\src\MapGenRavine.java
--- minecraft_server\net\minecraft\src\MapGenRavine.java	Wed Aug 01 22:44:06 2012
+++ minecraft_server_patched\net\minecraft\src\MapGenRavine.java	Thu Aug 02 00:32:29 2012
@@ -70,11 +70,11 @@
             {
                 continue;
             }
-            double d4 = p_75045_6_ - d;
-            double d5 = p_75045_10_ - d1;
-            double d6 = p_75045_16_ - p_75045_15_;
+            double d4a = p_75045_6_ - d;
+            double d5a = p_75045_10_ - d1;
+            double d6a = p_75045_16_ - p_75045_15_;
             double d7 = p_75045_12_ + 2.0F + 16F;
-            if((d4 * d4 + d5 * d5) - d6 * d6 > d7 * d7)
+            if((d4a * d4a + d5a * d5a) - d6a * d6a > d7 * d7)
             {
                 return;
             }
@@ -82,11 +82,11 @@
             {
                 continue;
             }
-            d4 = MathHelper.func_76128_c(p_75045_6_ - d2) - p_75045_3_ * 16 - 1;
+            int d4 = MathHelper.func_76128_c(p_75045_6_ - d2) - p_75045_3_ * 16 - 1;
             int k = (MathHelper.func_76128_c(p_75045_6_ + d2) - p_75045_3_ * 16) + 1;
-            d5 = MathHelper.func_76128_c(p_75045_8_ - d3) - 1;
+            int d5 = MathHelper.func_76128_c(p_75045_8_ - d3) - 1;
             int l = MathHelper.func_76128_c(p_75045_8_ + d3) + 1;
-            d6 = MathHelper.func_76128_c(p_75045_10_ - d2) - p_75045_4_ * 16 - 1;
+            int d6 = MathHelper.func_76128_c(p_75045_10_ - d2) - p_75045_4_ * 16 - 1;
             int i1 = (MathHelper.func_76128_c(p_75045_10_ + d2) - p_75045_4_ * 16) + 1;
             if(d4 < 0)
             {
diff -r -U 3 minecraft_server\net\minecraft\src\PathNavigate.java minecraft_server_patched\net\minecraft\src\PathNavigate.java
--- minecraft_server\net\minecraft\src\PathNavigate.java	Wed Aug 01 22:44:06 2012
+++ minecraft_server_patched\net\minecraft\src\PathNavigate.java	Thu Aug 02 00:32:52 2012
@@ -184,7 +184,7 @@
     {
         Vec3 vec3 = func_75502_i();
         int i = field_75514_c.func_75874_d();
-        float f = field_75514_c.func_75873_e();
+        int f = field_75514_c.func_75873_e();
         do
         {
             if(f >= field_75514_c.func_75874_d())
@@ -198,10 +198,10 @@
             }
             f++;
         } while(true);
-        f = field_75515_a.field_70130_N * field_75515_a.field_70130_N;
+        float fa = field_75515_a.field_70130_N * field_75515_a.field_70130_N;
         for(int j = field_75514_c.func_75873_e(); j < i; j++)
         {
-            if(vec3.func_72436_e(field_75514_c.func_75881_a(field_75515_a, j)) < (double)f)
+            if(vec3.func_72436_e(field_75514_c.func_75881_a(field_75515_a, j)) < (double)fa)
             {
                 field_75514_c.func_75872_c(j + 1);
             }
diff -r -U 3 minecraft_server\net\minecraft\src\Profiler.java minecraft_server_patched\net\minecraft\src\Profiler.java
--- minecraft_server\net\minecraft\src\Profiler.java	Wed Aug 01 22:44:06 2012
+++ minecraft_server_patched\net\minecraft\src\Profiler.java	Thu Aug 02 00:32:59 2012
@@ -39,10 +39,9 @@
             return;
         }
         if(!(field_76323_d.length() <= 0))
-## JADFIX _L1 _L2
-_L1:
+        {
         field_76323_d += ".";
-_L2:
+        }
         field_76323_d += p_76320_1_;
         field_76325_b.add(field_76323_d);
         field_76326_c.add(Long.valueOf(System.nanoTime()));
diff -r -U 3 minecraft_server\net\minecraft\src\SpawnerAnimals.java minecraft_server_patched\net\minecraft\src\SpawnerAnimals.java
--- minecraft_server\net\minecraft\src\SpawnerAnimals.java	Wed Aug 01 22:44:07 2012
+++ minecraft_server_patched\net\minecraft\src\SpawnerAnimals.java	Thu Aug 02 00:35:33 2012
@@ -31,169 +31,154 @@
 
     public static final int func_77192_a(WorldServer p_77192_0_, boolean p_77192_1_, boolean p_77192_2_)
     {
-        int j;
-        ChunkCoordinates chunkcoordinates;
-        EnumCreatureType aenumcreaturetype[];
-        int i1;
-        int j1;
         if(!p_77192_1_ && !p_77192_2_)
         {
             return 0;
         }
-        field_77193_b.clear();
-        for(int i = 0; i < p_77192_0_.field_73010_i.size(); i++)
+        else
         {
-            EntityPlayer entityplayer = (EntityPlayer)p_77192_0_.field_73010_i.get(i);
-            int k = MathHelper.func_76128_c(entityplayer.field_70165_t / 16D);
-            int l = MathHelper.func_76128_c(entityplayer.field_70161_v / 16D);
-            byte byte0 = 8;
-            for(int k1 = -byte0; k1 <= byte0; k1++)
+            field_77193_b.clear();
+
+            int var3;
+            int var6;
+            for(var3 = 0; var3 < p_77192_0_.field_73010_i.size(); ++var3)
             {
-                for(int l1 = -byte0; l1 <= byte0; l1++)
+                EntityPlayer var4 = (EntityPlayer)p_77192_0_.field_73010_i.get(var3);
+                int var5 = MathHelper.func_76128_c(var4.field_70165_t / 16.0D);
+                var6 = MathHelper.func_76128_c(var4.field_70161_v / 16.0D);
+                byte var7 = 8;
+
+                for(int var8 = -var7; var8 <= var7; ++var8)
                 {
-                    boolean flag = k1 == -byte0 || k1 == byte0 || l1 == -byte0 || l1 == byte0;
-                    ChunkCoordIntPair chunkcoordintpair1 = new ChunkCoordIntPair(k1 + k, l1 + l);
-                    if(!flag)
+                    for(int var9 = -var7; var9 <= var7; ++var9)
                     {
-                        field_77193_b.put(chunkcoordintpair1, Boolean.valueOf(false));
-                        continue;
-                    }
-                    if(!field_77193_b.containsKey(chunkcoordintpair1))
-                    {
-                        field_77193_b.put(chunkcoordintpair1, Boolean.valueOf(true));
+                        boolean var10 = var8 == -var7 || var8 == var7 || var9 == -var7 || var9 == var7;
+                        ChunkCoordIntPair var11 = new ChunkCoordIntPair(var8 + var5, var9 + var6);
+                        if(!var10)
+                        {
+                            field_77193_b.put(var11, Boolean.valueOf(false));
+                        }
+                        else if(!field_77193_b.containsKey(var11))
+                        {
+                            field_77193_b.put(var11, Boolean.valueOf(true));
+                        }
                     }
                 }
-
             }
 
-        }
+            var3 = 0;
+            ChunkCoordinates var31 = p_77192_0_.func_72861_E();
+            EnumCreatureType[] var32 = EnumCreatureType.values();
+            var6 = var32.length;
 
-        j = 0;
-        chunkcoordinates = p_77192_0_.func_72861_E();
-        aenumcreaturetype = EnumCreatureType.values();
-        i1 = aenumcreaturetype.length;
-        j1 = 0;
-_L10:
-        if(!(j1 >= i1))
-## JADFIX _L1 _L2
-_L1:
-        EnumCreatureType enumcreaturetype;
-        Iterator iterator;
-        enumcreaturetype = aenumcreaturetype[j1];
-        if(enumcreaturetype.func_75599_d() && !p_77192_2_ || !enumcreaturetype.func_75599_d() && !p_77192_1_ || p_77192_0_.func_72907_a(enumcreaturetype.func_75598_a()) > (enumcreaturetype.func_75601_b() * field_77193_b.size()) / 256)
-        {
-            continue; /* Loop/switch isn't completed */
-        }
-        iterator = field_77193_b.keySet().iterator();
-_L4:
-        int i2;
-        int j2;
-        int k2;
-        int l2;
-        int i3;
-        do
-        {
-            ChunkCoordIntPair chunkcoordintpair;
-            do
+            for(int var33 = 0; var33 < var6; ++var33)
             {
-                if(!iterator.hasNext())
+                EnumCreatureType var34 = var32[var33];
+                if((!var34.func_75599_d() || p_77192_2_) && (var34.func_75599_d() || p_77192_1_) && p_77192_0_.func_72907_a(var34.func_75598_a()) <= var34.func_75601_b() * field_77193_b.size() / 256)
                 {
-                    continue; /* Loop/switch isn't completed */
+                    Iterator var35 = field_77193_b.keySet().iterator();
+
+                    label108: while(var35.hasNext())
+                    {
+                        ChunkCoordIntPair var37 = (ChunkCoordIntPair)var35.next();
+                        if(!((Boolean)field_77193_b.get(var37)).booleanValue())
+                        {
+                            ChunkPosition var36 = func_77189_a(p_77192_0_, var37.field_77276_a, var37.field_77275_b);
+                            int var12 = var36.field_76930_a;
+                            int var13 = var36.field_76928_b;
+                            int var14 = var36.field_76929_c;
+                            if(!p_77192_0_.func_72809_s(var12, var13, var14) && p_77192_0_.func_72803_f(var12, var13, var14) == var34.func_75600_c())
+                            {
+                                int var15 = 0;
+                                int var16 = 0;
+
+                                while(var16 < 3)
+                                {
+                                    int var17 = var12;
+                                    int var18 = var13;
+                                    int var19 = var14;
+                                    byte var20 = 6;
+                                    SpawnListEntry var21 = null;
+                                    int var22 = 0;
+
+                                    while(true)
+                                    {
+                                        if(var22 < 4)
+                                        {
+                                            label101:
+                                            {
+                                                var17 += p_77192_0_.field_73012_v.nextInt(var20) - p_77192_0_.field_73012_v.nextInt(var20);
+                                                var18 += p_77192_0_.field_73012_v.nextInt(1) - p_77192_0_.field_73012_v.nextInt(1);
+                                                var19 += p_77192_0_.field_73012_v.nextInt(var20) - p_77192_0_.field_73012_v.nextInt(var20);
+                                                if(func_77190_a(var34, p_77192_0_, var17, var18, var19))
+                                                {
+                                                    float var23 = (float)var17 + 0.5F;
+                                                    float var24 = (float)var18;
+                                                    float var25 = (float)var19 + 0.5F;
+                                                    if(p_77192_0_.func_72977_a((double)var23, (double)var24, (double)var25, 24.0D) == null)
+                                                    {
+                                                        float var26 = var23 - (float)var31.field_71574_a;
+                                                        float var27 = var24 - (float)var31.field_71572_b;
+                                                        float var28 = var25 - (float)var31.field_71573_c;
+                                                        float var29 = var26 * var26 + var27 * var27 + var28 * var28;
+                                                        if(var29 >= 576.0F)
+                                                        {
+                                                            if(var21 == null)
+                                                            {
+                                                                var21 = p_77192_0_.func_73057_a(var34, var17, var18, var19);
+                                                                if(var21 == null)
+                                                                {
+                                                                    break label101;
+                                                                }
+                                                            }
+
+                                                            EntityLiving var38;
+                                                            try
+                                                            {
+                                                                var38 = (EntityLiving)var21.field_76300_b.getConstructor(new Class[]
+                                                                { World.class }).newInstance(new Object[]
+                                                                { p_77192_0_ });
+                                                            }
+                                                            catch(Exception var30)
+                                                            {
+                                                                var30.printStackTrace();
+                                                                return var3;
+                                                            }
+
+                                                            var38.func_70012_b((double)var23, (double)var24, (double)var25, p_77192_0_.field_73012_v.nextFloat() * 360.0F, 0.0F);
+                                                            if(var38.func_70601_bi())
+                                                            {
+                                                                ++var15;
+                                                                p_77192_0_.func_72838_d(var38);
+                                                                func_77188_a(var38, p_77192_0_, var23, var24, var25);
+                                                                if(var15 >= var38.func_70641_bl())
+                                                                {
+                                                                    continue label108;
+                                                                }
+                                                            }
+
+                                                            var3 += var15;
+                                                        }
+                                                    }
+                                                }
+
+                                                ++var22;
+                                                continue;
+                                            }
+                                        }
+
+                                        ++var16;
+                                        break;
+                                    }
+                                }
+                            }
+                        }
+                    }
                 }
-                chunkcoordintpair = (ChunkCoordIntPair)iterator.next();
-            } while(((Boolean)field_77193_b.get(chunkcoordintpair)).booleanValue());
-            ChunkPosition chunkposition = func_77189_a(p_77192_0_, chunkcoordintpair.field_77276_a, chunkcoordintpair.field_77275_b);
-            i2 = chunkposition.field_76930_a;
-            j2 = chunkposition.field_76928_b;
-            k2 = chunkposition.field_76929_c;
-        } while(p_77192_0_.func_72809_s(i2, j2, k2) || p_77192_0_.func_72803_f(i2, j2, k2) != enumcreaturetype.func_75600_c());
-        l2 = 0;
-        i3 = 0;
-_L9:
-        if(!(i3 >= 3))
-## JADFIX _L3 _L4
-_L3:
-        int j3;
-        int k3;
-        int l3;
-        byte byte1;
-        SpawnListEntry spawnlistentry;
-        int i4;
-        j3 = i2;
-        k3 = j2;
-        l3 = k2;
-        byte1 = 6;
-        spawnlistentry = null;
-        i4 = 0;
-_L8:
-        if(!(i4 >= 4))
-## JADFIX _L5 _L6
-_L5:
-        EntityLiving entityliving;
-        j3 += p_77192_0_.field_73012_v.nextInt(byte1) - p_77192_0_.field_73012_v.nextInt(byte1);
-        k3 += p_77192_0_.field_73012_v.nextInt(1) - p_77192_0_.field_73012_v.nextInt(1);
-        l3 += p_77192_0_.field_73012_v.nextInt(byte1) - p_77192_0_.field_73012_v.nextInt(byte1);
-        if(!func_77190_a(enumcreaturetype, p_77192_0_, j3, k3, l3))
-        {
-            continue; /* Loop/switch isn't completed */
-        }
-        float f = (float)j3 + 0.5F;
-        float f1 = k3;
-        float f2 = (float)l3 + 0.5F;
-        if(p_77192_0_.func_72977_a(f, f1, f2, 24D) != null)
-        {
-            continue; /* Loop/switch isn't completed */
-        }
-        float f3 = f - (float)chunkcoordinates.field_71574_a;
-        float f4 = f1 - (float)chunkcoordinates.field_71572_b;
-        float f5 = f2 - (float)chunkcoordinates.field_71573_c;
-        float f6 = f3 * f3 + f4 * f4 + f5 * f5;
-        if(f6 < 576F)
-        {
-            continue; /* Loop/switch isn't completed */
-        }
-        if(spawnlistentry == null)
-        {
-            spawnlistentry = p_77192_0_.func_73057_a(enumcreaturetype, j3, k3, l3);
-            if(spawnlistentry == null)
-            {
-                break; /* Loop/switch isn't completed */
             }
+
+            return var3;
         }
-        try
-        {
-            entityliving = (EntityLiving)spawnlistentry.field_76300_b.getConstructor(new Class[] {
-                net.minecraft.src.World.class
-            }).newInstance(new Object[] {
-                p_77192_0_
-            });
-        }
-        catch(Exception exception)
-        {
-            exception.printStackTrace();
-            return j;
-        }
-        entityliving.func_70012_b(f, f1, f2, p_77192_0_.field_73012_v.nextFloat() * 360F, 0.0F);
-        if(!entityliving.func_70601_bi())
-        {
-            break; /* Loop/switch isn't completed */
-        }
-        l2++;
-        p_77192_0_.func_72838_d(entityliving);
-        func_77188_a(entityliving, p_77192_0_, f, f1, f2);
-        if(l2 < entityliving.func_70641_bl())
-## JADFIX _L7 _L4
-_L7:
-        j += l2;
-        i4++;
-          goto _L8
-_L6:
-        i3++;
-          goto _L9
-        j1++;
-          goto _L10
-_L2:
-        return j;
     }
 
     public static boolean func_77190_a(EnumCreatureType p_77190_0_, World p_77190_1_, int p_77190_2_, int p_77190_3_, int p_77190_4_)
diff -r -U 3 minecraft_server\net\minecraft\src\StringTranslate.java minecraft_server_patched\net\minecraft\src\StringTranslate.java
--- minecraft_server\net\minecraft\src\StringTranslate.java	Wed Aug 01 22:44:07 2012
+++ minecraft_server_patched\net\minecraft\src\StringTranslate.java	Thu Aug 02 00:36:15 2012
@@ -79,60 +79,56 @@
 
     public void func_74810_a(String p_74810_1_)
     {
-        Properties properties;
-        if(p_74810_1_.equals(field_74813_d))
+        if(!p_74810_1_.equals(this.field_74813_d))
         {
-            return;
-        }
-        properties = new Properties();
-        try
-        {
-            func_74812_a(properties, "en_US");
-        }
-        catch(IOException ioexception) { }
-        field_74814_e = false;
-        if("en_US".equals(p_74810_1_))
-        {
-            break MISSING_BLOCK_LABEL_152;
-        }
-        Enumeration enumeration;
-        func_74812_a(properties, p_74810_1_);
-        enumeration = properties.propertyNames();
-_L2:
-        String s;
-        int i;
-        Object obj1;
-        do
-        {
-            if(!enumeration.hasMoreElements() || field_74814_e)
+            Properties var2 = new Properties();
+
+            try
             {
-                break MISSING_BLOCK_LABEL_152;
+                this.func_74812_a(var2, "en_US");
             }
-            Object obj = enumeration.nextElement();
-            obj1 = properties.get(obj);
-        } while(obj1 == null);
-        s = obj1.toString();
-        i = 0;
-_L5:
-        if(!(i >= s.length()))
-## JADFIX _L1 _L2
-_L1:
-        if(!(s.charAt(i) < '\u0100'))
-## JADFIX _L3 _L4
-_L3:
-        field_74814_e = true;
-          goto _L2
-_L4:
-        i++;
-          goto _L5
-        IOException ioexception1;
-        ioexception1;
-        ioexception1.printStackTrace();
-        return;
-        field_74813_d = p_74810_1_;
-        field_74815_b = properties;
-        return;
-          goto _L2
+            catch(IOException var8)
+            {
+                ;
+            }
+
+            this.field_74814_e = false;
+            if(!"en_US".equals(p_74810_1_))
+            {
+                try
+                {
+                    this.func_74812_a(var2, p_74810_1_);
+                    Enumeration var3 = var2.propertyNames();
+
+                    while(var3.hasMoreElements() && !this.field_74814_e)
+                    {
+                        Object var4 = var3.nextElement();
+                        Object var5 = var2.get(var4);
+                        if(var5 != null)
+                        {
+                            String var6 = var5.toString();
+
+                            for(int var7 = 0; var7 < var6.length(); ++var7)
+                            {
+                                if(var6.charAt(var7) >= 256)
+                                {
+                                    this.field_74814_e = true;
+                                    break;
+                                }
+                            }
+                        }
+                    }
+                }
+                catch(IOException var9)
+                {
+                    var9.printStackTrace();
+                    return;
+                }
+            }
+
+            this.field_74813_d = p_74810_1_;
+            this.field_74815_b = var2;
+        }
     }
 
     public String func_74805_b(String p_74805_1_)
diff -r -U 3 minecraft_server\net\minecraft\src\StructureStrongholdPieces.java minecraft_server_patched\net\minecraft\src\StructureStrongholdPieces.java
--- minecraft_server\net\minecraft\src\StructureStrongholdPieces.java	Wed Aug 01 22:44:07 2012
+++ minecraft_server_patched\net\minecraft\src\StructureStrongholdPieces.java	Thu Aug 02 00:37:05 2012
@@ -106,62 +106,66 @@
 
     private static ComponentStronghold func_75201_b(ComponentStrongholdStairs2 p_75201_0_, List p_75201_1_, Random p_75201_2_, int p_75201_3_, int p_75201_4_, int p_75201_5_, int p_75201_6_, int p_75201_7_)
     {
-        int i;
         if(!func_75202_c())
         {
             return null;
         }
-        if(field_75203_d != null)
+        else
         {
-            ComponentStronghold componentstronghold = func_75200_a(field_75203_d, p_75201_1_, p_75201_2_, p_75201_3_, p_75201_4_, p_75201_5_, p_75201_6_, p_75201_7_);
-            field_75203_d = null;
-            if(componentstronghold != null)
+            if(field_75203_d != null)
             {
-                return componentstronghold;
+                ComponentStronghold var8 = func_75200_a(field_75203_d, p_75201_1_, p_75201_2_, p_75201_3_, p_75201_4_, p_75201_5_, p_75201_6_, p_75201_7_);
+                field_75203_d = null;
+                if(var8 != null)
+                {
+                    return var8;
+                }
+            }
+
+            int var13 = 0;
+
+            while(var13 < 5)
+            {
+                ++var13;
+                int var9 = p_75201_2_.nextInt(field_75207_a);
+                Iterator var10 = field_75206_c.iterator();
+
+                while(var10.hasNext())
+                {
+                    StructureStrongholdPieceWeight var11 = (StructureStrongholdPieceWeight)var10.next();
+                    var9 -= var11.field_75192_b;
+                    if(var9 < 0)
+                    {
+                        if(!var11.func_75189_a(p_75201_7_) || var11 == p_75201_0_.field_75027_a)
+                        {
+                            break;
+                        }
+
+                        ComponentStronghold var12 = func_75200_a(var11.field_75194_a, p_75201_1_, p_75201_2_, p_75201_3_, p_75201_4_, p_75201_5_, p_75201_6_, p_75201_7_);
+                        if(var12 != null)
+                        {
+                            ++var11.field_75193_c;
+                            p_75201_0_.field_75027_a = var11;
+                            if(!var11.func_75190_a())
+                            {
+                                field_75206_c.remove(var11);
+                            }
+
+                            return var12;
+                        }
+                    }
+                }
+            }
+
+            StructureBoundingBox var14 = ComponentStrongholdCorridor.func_74992_a(p_75201_1_, p_75201_2_, p_75201_3_, p_75201_4_, p_75201_5_, p_75201_6_);
+            if(var14 != null && var14.field_78895_b > 1)
+            {
+                return new ComponentStrongholdCorridor(p_75201_7_, p_75201_2_, var14, p_75201_6_);
+            }
+            else
+            {
+                return null;
             }
-        }
-        i = 0;
-_L2:
-        int j;
-        Iterator iterator;
-        if(i >= 5)
-        {
-            break MISSING_BLOCK_LABEL_206;
-        }
-        i++;
-        j = p_75201_2_.nextInt(field_75207_a);
-        iterator = field_75206_c.iterator();
-_L4:
-        if(!(!iterator.hasNext()))
-## JADFIX _L1 _L2
-_L1:
-        StructureStrongholdPieceWeight structurestrongholdpieceweight;
-        structurestrongholdpieceweight = (StructureStrongholdPieceWeight)iterator.next();
-        j -= structurestrongholdpieceweight.field_75192_b;
-        if(!(j >= 0))
-## JADFIX _L3 _L4
-_L3:
-        if(structurestrongholdpieceweight.func_75189_a(p_75201_7_) && structurestrongholdpieceweight != p_75201_0_.field_75027_a)
-## JADFIX _L5 _L2
-_L5:
-        ComponentStronghold componentstronghold1 = func_75200_a(structurestrongholdpieceweight.field_75194_a, p_75201_1_, p_75201_2_, p_75201_3_, p_75201_4_, p_75201_5_, p_75201_6_, p_75201_7_);
-        if(!(componentstronghold1 == null))
-## JADFIX _L6 _L4
-_L6:
-        structurestrongholdpieceweight.field_75193_c++;
-        p_75201_0_.field_75027_a = structurestrongholdpieceweight;
-        if(!structurestrongholdpieceweight.func_75190_a())
-        {
-            field_75206_c.remove(structurestrongholdpieceweight);
-        }
-        return componentstronghold1;
-        StructureBoundingBox structureboundingbox = ComponentStrongholdCorridor.func_74992_a(p_75201_1_, p_75201_2_, p_75201_3_, p_75201_4_, p_75201_5_, p_75201_6_);
-        if(structureboundingbox != null && structureboundingbox.field_78895_b > 1)
-        {
-            return new ComponentStrongholdCorridor(p_75201_7_, p_75201_2_, structureboundingbox, p_75201_6_);
-        } else
-        {
-            return null;
         }
     }
 
diff -r -U 3 minecraft_server\net\minecraft\src\StructureVillagePieces.java minecraft_server_patched\net\minecraft\src\StructureVillagePieces.java
--- minecraft_server\net\minecraft\src\StructureVillagePieces.java	Wed Aug 01 22:44:07 2012
+++ minecraft_server_patched\net\minecraft\src\StructureVillagePieces.java	Thu Aug 02 00:37:45 2012
@@ -105,55 +105,57 @@
 
     private static ComponentVillage func_75081_c(ComponentVillageStartPiece p_75081_0_, List p_75081_1_, Random p_75081_2_, int p_75081_3_, int p_75081_4_, int p_75081_5_, int p_75081_6_, int p_75081_7_)
     {
-        int i;
-        int j;
-        i = func_75079_a(p_75081_0_.field_74931_h);
-        if(i <= 0)
+        int var8 = func_75079_a(p_75081_0_.field_74931_h);
+        if(var8 <= 0)
         {
             return null;
         }
-        j = 0;
-_L2:
-        int k;
-        Iterator iterator;
-        if(j >= 5)
+        else
         {
-            break MISSING_BLOCK_LABEL_183;
-        }
-        j++;
-        k = p_75081_2_.nextInt(i);
-        iterator = p_75081_0_.field_74931_h.iterator();
-_L4:
-        if(!(!iterator.hasNext()))
-## JADFIX _L1 _L2
-_L1:
-        StructureVillagePieceWeight structurevillagepieceweight;
-        structurevillagepieceweight = (StructureVillagePieceWeight)iterator.next();
-        k -= structurevillagepieceweight.field_75088_b;
-        if(!(k >= 0))
-## JADFIX _L3 _L4
-_L3:
-        if(structurevillagepieceweight.func_75085_a(p_75081_7_) && (structurevillagepieceweight != p_75081_0_.field_74926_d || p_75081_0_.field_74931_h.size() <= 1))
-## JADFIX _L5 _L2
-_L5:
-        ComponentVillage componentvillage = func_75083_a(p_75081_0_, structurevillagepieceweight, p_75081_1_, p_75081_2_, p_75081_3_, p_75081_4_, p_75081_5_, p_75081_6_, p_75081_7_);
-        if(!(componentvillage == null))
-## JADFIX _L6 _L4
-_L6:
-        structurevillagepieceweight.field_75089_c++;
-        p_75081_0_.field_74926_d = structurevillagepieceweight;
-        if(!structurevillagepieceweight.func_75086_a())
-        {
-            p_75081_0_.field_74931_h.remove(structurevillagepieceweight);
-        }
-        return componentvillage;
-        StructureBoundingBox structureboundingbox = ComponentVillageTorch.func_74904_a(p_75081_0_, p_75081_1_, p_75081_2_, p_75081_3_, p_75081_4_, p_75081_5_, p_75081_6_);
-        if(structureboundingbox != null)
-        {
-            return new ComponentVillageTorch(p_75081_0_, p_75081_7_, p_75081_2_, structureboundingbox, p_75081_6_);
-        } else
-        {
-            return null;
+            int var9 = 0;
+
+            while(var9 < 5)
+            {
+                ++var9;
+                int var10 = p_75081_2_.nextInt(var8);
+                Iterator var11 = p_75081_0_.field_74931_h.iterator();
+
+                while(var11.hasNext())
+                {
+                    StructureVillagePieceWeight var12 = (StructureVillagePieceWeight)var11.next();
+                    var10 -= var12.field_75088_b;
+                    if(var10 < 0)
+                    {
+                        if(!var12.func_75085_a(p_75081_7_) || var12 == p_75081_0_.field_74926_d && p_75081_0_.field_74931_h.size() > 1)
+                        {
+                            break;
+                        }
+
+                        ComponentVillage var13 = func_75083_a(p_75081_0_, var12, p_75081_1_, p_75081_2_, p_75081_3_, p_75081_4_, p_75081_5_, p_75081_6_, p_75081_7_);
+                        if(var13 != null)
+                        {
+                            ++var12.field_75089_c;
+                            p_75081_0_.field_74926_d = var12;
+                            if(!var12.func_75086_a())
+                            {
+                                p_75081_0_.field_74931_h.remove(var12);
+                            }
+
+                            return var13;
+                        }
+                    }
+                }
+            }
+
+            StructureBoundingBox var14 = ComponentVillageTorch.func_74904_a(p_75081_0_, p_75081_1_, p_75081_2_, p_75081_3_, p_75081_4_, p_75081_5_, p_75081_6_);
+            if(var14 != null)
+            {
+                return new ComponentVillageTorch(p_75081_0_, p_75081_7_, p_75081_2_, var14, p_75081_6_);
+            }
+            else
+            {
+                return null;
+            }
         }
     }
 
diff -r -U 3 minecraft_server\net\minecraft\src\World.java minecraft_server_patched\net\minecraft\src\World.java
--- minecraft_server\net\minecraft\src\World.java	Wed Aug 01 22:44:07 2012
+++ minecraft_server_patched\net\minecraft\src\World.java	Thu Aug 02 00:38:07 2012
@@ -1184,7 +1184,7 @@
 
         field_72984_F.func_76318_c("tileEntities");
         field_72989_L = true;
-        j = field_73009_h.iterator();
+        Iterator j = field_73009_h.iterator();
         do
         {
             if(!j.hasNext())
diff -r -U 3 minecraft_server\net\minecraft\src\WorldServer.java minecraft_server_patched\net\minecraft\src\WorldServer.java
--- minecraft_server\net\minecraft\src\WorldServer.java	Wed Aug 01 22:44:07 2012
+++ minecraft_server_patched\net\minecraft\src\WorldServer.java	Thu Aug 02 00:45:51 2012
@@ -27,7 +27,7 @@
 {
 
     private final MinecraftServer field_73061_a;
-    private final EntityTracker field_73062_L = new EntityTracker(this);
+    private final EntityTracker field_73062_L;
     private final PlayerManager field_73063_M;
     private Set field_73064_N;
     private TreeSet field_73065_O;
@@ -48,6 +48,7 @@
         field_73060_c = false;
         field_73070_R = 0;
         field_73061_a = p_i3395_1_;
+        field_73062_L = new EntityTracker(this);
         field_73063_M = new PlayerManager(this, p_i3395_1_.func_71203_ab().func_72395_o());
         if(field_73066_T == null)
         {
